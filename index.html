<html>
    <head>
        <title>
            Tic Tac Toe
        </title>
    </head>
    <body align="center">
    
        <script>
            //heading
            var heading=document.createElement("h1");
            heading.style.fontSize="40px";
            heading.innerHTML="Start the Game :<br>"
            document.body.appendChild(heading);

            //turn
            var turn=document.createElement("h1");
            turn.style.fontSize="30px";
            turn.innerHTML="X turn"
            turn.setAttribute("id","turn")
            document.body.appendChild(turn);

            //note
            var note=document.createElement("h4");
            note.innerHTML="Note  :  It will check the result and shows the winner when anyone wins. Just Enjoy the game"
            document.body.appendChild(note);


            var game=["","","","","","","","",""];
            var symbol=1;
            for(var i=1;i<=9;i++)
            {
                var div=document.createElement("button");
                div.style.margin="2px";
                div.style.width="25px";
                div.style.height="25px";
                div.setAttribute("style","border:2px solid;")
                div.style.padding="25px";
                div.style.margin="10px";
                div.setAttribute("onclick","getvalue("+(i-1)+")")
                div.setAttribute("id",i-1);
                document.body.appendChild(div);
                if(i%3==0)
                {
                    var bre = document.createElement("br");
                    document.body.appendChild(bre);
                }
            }
            function display()
            {
                for(var i=0;i<9;i++)
                {
                    document.getElementById(i).innerHTML="<h3>"+game[i]+"</h3>";
                }
            }
            display()
            function getvalue(value)
            {
                if(game[value]!="X" && game[value]!="O"  )
                {
                    if(symbol==1)
                    {
                        game[value]="X";
                        symbol=0;
                        document.getElementById("turn").innerHTML="O turn"
                    }
                    else
                    {
                        game[value]="O";
                        symbol=1;
                        document.getElementById("turn").innerHTML="X turn"
                    }
                }
                display();
                submit();
            }
            function count(val)
            {
                var num=0;
                for(var i=0;i<9;i++)
                {
                    if(game[i]==val)
                        num++;
                }
                return num;
            }
            function check(value)
            {
                var r1=[0,1,2]
                var r2=[3,4,5]
                var r3=[6,7,8]
                var c1=[0,3,6]
                var c2=[1,4,7]
                var c3=[2,5,8]
                var cross1=[0,4,8]
                var cross2=[2,4,6]
                var te=[r1,r2,r3,c1,c2,c3,cross1,cross2]
                for(var i=0;i<8;i++)
                {
                    var k=0
                    for(var j=0;j<te[i].length;j++)
                    {
                        if(game[te[i][j]]==value)
                        {
                            k++;
                        }
                            
                    }
                    if(k==3)
                        return true
                }
                return false
                
            }
            function submit()
            {
                var cr=count("X");
                var co=count("O");
                console.log(cr)
                console.log(co)
                if(cr>=3)
                {
                    var value="X"
                    console.log(check(value))
                    if(check(value))
                    {
                        document.body.innerHTML="<h1 align='center'>X winner<br>Thank You</h1>";
                        
                    }
                }
                if(co>=3)
                {
                    var value="O"
                    if(check(value))
                    {
                        document.body.innerHTML="<h1 align='center'>X winner<br>Thank You</h1>";
                    }
                }
                if((cr+co)==9)
                {
                    document.body.innerHTML="<h1 align='center'>Draw Match<br></h1>";
                    var play=document.createElement("a");
                    play.style.fontSize="40px";
                    play.setAttribute("href","index.html")
                    play.innerHTML="Play Again"
                    document.body.appendChild(play);
                }
            }

        </script>
    </body>
</html>